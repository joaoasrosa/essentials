<html prefix="og: http://ogp.me/ns#">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=600">
<base href="https://xebia.github.io/essentials/" >
<title>  - Xebia Essentials</title>
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet" type="text/css">
<link href="style/style.css" type="text/css" rel="stylesheet">
<style type="text/css"></style>
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css">
<link href="/index.html" rel="up">
<link href="/cards" rel="index">
<meta property="og:url" content="https://xebia.github.io/essentials//assertions/">
<meta property="og:title" content="">
<meta property="og:summary" content="">
<meta property="og:description" content="">
<meta content="" property="og:site_name">
<meta content="website" property="og:type">
<meta content="en_US" property="og:locale">
<meta content="//xebia.github.io/essentials/img/XebiaEssentialsCards.jpg" property="og:image">
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta content="The Xebia Essentials is a deck of flash cards about software craftsmanship." property="og:config">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@xebia" />
<meta name="twitter:description" content="" />
<meta name="apple-itunes-app" content="app-id=883300245, app-argument=https:https://xebia.github.io/essentials//assertions/">
<link rel="apple-touch-icon" href="touch-icon-iphone.png">
<link rel="apple-touch-icon" sizes="76x76" href="touch-icon-ipad.png">
<link rel="apple-touch-icon" sizes="120x120" href="touch-icon-iphone-retina.png">
<link rel="apple-touch-icon" sizes="152x152" href="touch-icon-ipad-retina.png">

  <script async="" src="//www.google-analytics.com/analytics.js"></script><script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-45163453-1', 'xebia.com');
  ga('send', 'pageview');
  function addListener(element, type, callback) {
    if (element.addEventListener) element.addEventListener(type, callback);
    else if (element.attachEvent) element.attachEvent('on' + type, callback);
  }
  function trackAClick(elementId, type, label) {
    var elem = document.getElementById(elementId);
    addListener(elem, 'click', function() {
      ga('send', 'event', type, 'click', label);
    });
  }
</script>

</head>

  <body>
    <div id="main">
      <div id="top"></div>

<div id="masthead" style="background-color:

  

  

  
    #107FD5
  

  

  

" />
  <para></para>

  <div class="sharing">
    <a target="_blank" rel="nofollow" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3Ahttps://xebia.github.io/essentials//assertions/"> <i class="fa fa-linkedin"></i></a>
    <a target="_blank" rel="nofollow" href="http://twitter.com/share?text=&amp;url=https%3Ahttps://xebia.github.io/essentials//assertions/"><i class="fa fa-twitter"></i></a>
    <a target="_blank" rel="nofollow" href="https://plus.google.com/share?url=https%3Ahttps://xebia.github.io/essentials//assertions/"><i class="fa fa-google-plus-square"></i></a>
    <a target="_blank" rel="nofollow" href="http://www.facebook.com/sharer.php?t=&amp;u=https%3Ahttps://xebia.github.io/essentials//assertions/"><i class="fa fa-facebook"></i></a>
  </div>
</div>

      <div id="body">
        <div class="wiki-content" id="main-content">
  <p>Assert against improper behaviour</p>

<hr />

<blockquote>
  <p>If it can’t happen, use assertions to assure it won’t.</p>
  <div class="attribution">Andrew Hunt, David Thomas</div>
</blockquote>

<hr />

<h3 id="motivation">Motivation</h3>

<p>Ideally, the compiler would be able to verify all of your assumptions. In reality, it can’t. Next question is if you would be able to write tests for all of those situations. After all, that’s what you normally do for all circumstances in which the compiler is not helping. In reality, that doesn’t work out either. The combinatorial explosion of states your modules might go into is just overwhelming.</p>

<p>This is where assertions come to the rescue. Assertions allow you to validate pre- and postconditions and can help you to assure your invariants hold. Putting in assertions will make sure your code fails early before causing anymore damage. It also works as a mental flag.</p>

<ul>
  <li>You think you’re sure something will never happen =&gt;</li>
  <li>The rule tells you to put an assertion in =&gt;</li>
  <li>You start to consider if your assumption actually holds in all circumstances =&gt;</li>
  <li>You might alter your code based on the conclusion =&gt;</li>
  <li>You put in an assertion</li>
</ul>

<h3 id="applicability">Applicability</h3>

<p>Always. Don’t go overboard and assert everything though. As I said, one of the most important reasons for having assertions is to train your consciousness to find the conditions in which your assumptions no longer hold.</p>

<h3 id="application">Application</h3>

<p>There are a couple of flavors for doing assertions in Java out there.</p>

<p>Java keyword:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>assert (x &gt; 3);
</code></pre></div></div>

<p>Disadvantage: they get disabled by default.</p>

<p>Spring Assert class:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Assert.isTrue(x &gt; 3);
</code></pre></div></div>

<p>Disadvantage: no isolated jar; you pull in a significant number of classes.</p>

<p>Guava <a href="http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/base/Preconditions.html">Preconditions</a> class:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Preconditions.checkArgument(x &gt; 3)
</code></pre></div></div>

<h3 id="consequences">Consequences</h3>

<p>If you put in assertions, then your code will fail if the assertions are violated. Don’t try to catch these exceptions. If you are catching AssertionErrors, then you probably misused assertions for some other purpose.</p>

<h3 id="references">References</h3>

<ol>
  <li><em>Programming Defensively</em> Interview with Andy Hunt and Dave Thomas, <a href="http://www.artima.com/intv/defense.html">http://www.artima.com/intv/defense.html</a></li>
</ol>

</div>

        
          <h3>The Xebia Essentials Cards</h3>
<div>
  This page is part of the <a rel="collection" href="/index.html">Xebia Essentials</a>, a pack of flash cards about Software Development Done Right. You can get your own deck of Essentials cards in the Xebia store.
</div>
<div class="buynow">
  <a href="http://xebia.com/books/xebia-essentials?utm_source=footer&utm_medium=web&utm_campaign=essentials" class="buybutton"><i class="fa fa-shopping-cart"></i> Buy Now</a></div>
  <br clear='left'/>

        
        <div id="footer">
  If you have any questions, remarks or suggestions, please feel free to send an email to <a href="mailto:essentials@xebia.com">essentials@xebia.com</a>.
</div>

        <div id="copyright">
  Copyright © 2011-2020 Xebia
  <a rel="author" href="http://www.xebia.com" type="text/html">
    <img alt="Xebia" height="20" width="60" src="//xebia.github.io/essentials/img/logo_xebia-120x40.jpg" align="right">
  </a>
</div>

      </div>
    </div>
  </body>
</html>
